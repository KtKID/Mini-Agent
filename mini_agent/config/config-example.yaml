# Mini Agent Configuration Example
# 
# Configuration File Locations (in priority order):
# 1) mini_agent/config/config.yaml - Development mode (current directory)
# 2) ~/.mini-agent/config/config.yaml - User config directory
# 3) <package>/mini_agent/config/config.yaml - Package installation directory
#
# To use this config:
# - Copy this file to one of the above locations as config.yaml
# - Fill in your API key and customize settings as needed
# - All config files (config.yaml, mcp.json, system_prompt.md) are in the same directory

# ===== LLM Configuration =====
# MiniMax API Configuration
# MiniMax provides both global and China platforms:
# - Global: https://platform.minimax.io -> api_base: https://api.minimax.io
# - China: https://platform.minimaxi.com -> api_base: https://api.minimaxi.com
# Please choose based on your network environment and get API key from corresponding platform
api_key: "YOUR_API_KEY_HERE"  # Replace with your MiniMax API Key
api_base: "https://api.minimax.io"   # Global users (default)
# api_base: "https://api.minimaxi.com"  # China users
model: "MiniMax-M2.5"
# LLM provider: "anthropic" or "openai"
# For MiniMax API, the suffix (/anthropic or /v1) is auto-appended based on provider.
# For third-party APIs (e.g., https://api.siliconflow.cn/v1), api_base is used as-is.
provider: "anthropic"  # Default: anthropic

# ===== Retry Configuration =====
retry:
  enabled: true           # Enable retry mechanism
  max_retries: 3          # Maximum number of retries
  initial_delay: 1.0      # Initial delay time (seconds)
  max_delay: 60.0         # Maximum delay time (seconds)
  exponential_base: 2.0   # Exponential backoff base (delay = initial_delay * base^attempt)

# ===== Agent Configuration =====
max_steps: 100  # Maximum execution steps
workspace_dir: "./workspace"  # Working directory
system_prompt_path: "system_prompt.md"  # System prompt file (same config directory)

# ===== Tools Configuration =====
tools:
  # Basic tool switches
  enable_file_tools: true  # File read/write/edit tools (ReadTool, WriteTool, EditTool)
  enable_bash: true        # Bash command execution tool
  enable_note: true        # Session note tool (SessionNoteTool)
  
  # Claude Skills
  enable_skills: true      # Enable Skills
  skills_dir: "./skills"   # Skills directory path
  
  # MCP Tools
  enable_mcp: true         # Enable MCP tools
  mcp_config_path: "mcp.json"  # MCP configuration file (same config directory)
                           # Note: API Keys for MCP tools are configured in mcp.json
  # MCP timeout configuration (prevents hanging on network issues)
  mcp:
    connect_timeout: 10.0    # Connection timeout in seconds (default: 10)
    execute_timeout: 60.0    # Tool execution timeout in seconds (default: 60)
    sse_read_timeout: 120.0  # SSE read timeout in seconds (default: 120)

# ===== Feishu Skill Configuration =====
# Feishu Bot integration - enables receiving and responding to messages via WebSocket
# See: https://open.feishu.cn/ for creating applications
feishu:
  enabled: false  # Set to true to enable Feishu Skill
  app_id: "cli_xxxxxxxxxxxxxxxxxxxxx"  # Your Feishu App ID (starts with cli_)
  app_secret: ""  # Your Feishu App Secret
  verification_token: ""  # Verification Token from Feishu open platform event subscription
  # encrypt_key: ""  # Message encryption key (optional)

  # Session configuration
  max_sessions: 100  # Maximum concurrent user sessions
  session_timeout: 3600  # Session timeout in seconds (default: 1 hour)

  # Reconnection configuration
  reconnect_initial_delay: 1.0  # Initial reconnect delay (seconds)
  reconnect_max_delay: 30.0  # Maximum reconnect delay (seconds)
  reconnect_max_retries: 10  # Maximum retry attempts
